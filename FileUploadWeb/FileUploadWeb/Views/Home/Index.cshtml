<div class="hero-unit">
    <h1>ASP.NET</h1>
    <p class="lead">ASP.NET is a free web framework for building great Web sites and Web applications using HTML, CSS, and JavaScript.</p>
    <p><a href="http://asp.net" class="btn btn-primary btn-large">Learn more &raquo;</a></p>
</div>
<div class="row">
    <div class="span4">
        <h2>Getting started</h2>
        <p>ASP.NET Web API is a framework that makes it easy to build HTTP services that reach
        a broad range of clients, including browsers and mobile devices. ASP.NET Web API
        is an ideal platform for building RESTful applications on the .NET Framework.</p>
        <p><a class="btn" href="http://go.microsoft.com/fwlink/?LinkId=301870">Learn more &raquo;</a></p>
    </div>
    <div class="span4">
        <h2>Get more libraries</h2>
        <p>NuGet is a free Visual Studio extension that makes it easy to add, remove, and update libraries and tools in Visual Studio projects.</p>
        <p><a class="btn" href="http://go.microsoft.com/fwlink/?LinkId=301871">Learn more &raquo;</a></p>
    </div>
    <div class="span4">
        <h2>Web Hosting</h2>
        <p>You can easily find a web hosting company that offers the right mix of features and price for your applications.</p>
        <p><a class="btn" href="http://go.microsoft.com/fwlink/?LinkId=301872">Learn more &raquo;</a></p>
    </div>
</div>
 <section>
        <div>
            <input type="File" id="FiletoUpload" />
            <input type="button" value="Upload File.." id="upload" />
        </div>
    </section>
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            var uniqueFileId;
            var chunkSize = 1048576;
            var noOfChunks;
            var msg;
            //Upload button Click event function
            $("#upload").click(function () {
                var files = $("#FiletoUpload")[0].files;
                //Checking whether the files are selected or not
                if (files.length > 0) {
                    debugger;
                    //Get the Unique file id to Upload
                    GetUniqueFileId();
                    if (uniqueFileId != null || uniqueFileId != undefined) {
                        var file = files[0]; //For now considered only single file upload
                        noOfChunks = Math.ceil(file.size / chunkSize);

                        var start = 0, end = Math.min(chunkSize, file.size);
                        //Still in progress of slicing and uploading chunks

                        //if (file.slice) {
                        //    for (var i = 1; i <= noOfChunks; i++) {
                        //        var Chunk = new FormData();
                        //        Chunk.append("Chunk", file.slice(start, end));
                        //        Chunk.append("ChunkId", SetUniqueChunkId());
                        //        Chunk.append("FileId", uniqueFileId);
                        //        if (i == noOfChunks) {
                        //            Chunk.append("IsCompleted", 1);
                        //        }
                        //        else {
                        //            Chunk.append("IsCompleted", 0);
                        //        }
                        //        $.ajax({
                        //            type: "POST",
                        //            async: true,
                        //            data: Chunk,
                        //            processData: false,
                        //            contentType: false,
                        //            cache: false,
                        //            url: "http://localhost:13602/api/fileapi",
                        //            success: function (data) {
                        //                msg = data;
                        //            }
                        //        });
                        //    }
                        //}
                        //// alert(noOfChunks + "@@@@@@" + uniqueFileId);
                        //alert(msg);
                    }
                }
            });

            function GetUniqueFileId() {
                $.ajax({
                    type: "GET",
                    async: false,
                    url: "http://localhost:13602/api/fileapi",
                    success: function (data) {
                        uniqueFileId = data;
                    }
                });
            }

            function SetUniqueChunkId() {
                return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
                    var r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);
                    return v.toString(16);
                });
            }
        });
    </script>
